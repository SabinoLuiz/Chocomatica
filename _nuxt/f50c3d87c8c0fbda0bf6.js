(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{245:function(t,e,n){var content=n(256);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("55507fce",content,!0,{sourceMap:!1})},255:function(t,e,n){"use strict";var o=n(245);n.n(o).a},256:function(t,e,n){(e=n(9)(!1)).push([t.i,".fill[data-v-d34f6294]{display:flex;align-items:center;justify-content:center;padding-left:0;padding-right:0}.fill[data-v-d34f6294],.fill .white-flashing[data-v-d34f6294]{position:absolute;top:0;left:0;width:1200px;height:630px}.fill .white-flashing[data-v-d34f6294]{background-color:hsla(0,0%,100%,.73333);z-index:100}.fill .coins[data-v-d34f6294]{position:absolute;top:20px;right:20px;z-index:15}.fill .tiles-example[data-v-d34f6294]{z-index:60;width:250px;display:flex;align-items:center;justify-content:center;justify-content:flex-start;transform:scale(1.2);margin-bottom:120px}.fill .leo-message[data-v-d34f6294]{position:absolute;bottom:20px;right:20px;z-index:15}.fill .estante-fase-6[data-v-d34f6294]{margin-top:-60px;display:flex;align-items:center;justify-content:center;position:relative}.fill .estante-fase-6[data-v-d34f6294] .drop-tiles{width:200px;height:80px;border:2px solid transparent;border-radius:5px}.fill .estante-fase-6 .lines[data-v-d34f6294]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:666px;height:478px;top:22px;position:relative}.fill .estante-fase-6 .lines .line__tile-holder[data-v-d34f6294]{position:absolute;top:10px;width:94%;display:flex;align-items:center;justify-content:space-around}.fill .estante-fase-6 .lines .line[data-v-d34f6294]{font-size:19px;display:flex;align-items:center;justify-content:center;width:100%;height:166px;position:relative}",""]),t.exports=e},265:function(t,e,n){"use strict";n.r(e);n(54),n(21),n(19),n(20),n(42);var o=n(12),r=n(23),l=(n(43),n(55),n(30)),c=(n(136),n(107)),d=n(6),f=n(37),animate=n(4);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={data:function(){return{stage:6,totalCoins:this.$store.state.stage.totalCoins,stageCoins:0,totalRight:0,showDialogue:!0,stageDialogues:f.e,lines:[],pieceValues:{numbers:c.c.numbers,colors:c.c.colors},holdersIndex:[11,12,13,21,22,23,31,32,33]}},computed:{currentLine:function(){return this.currentStage},currentStage:function(){var t=this;return c.c.stages.find((function(s){return s.id===t.stage}))},lineHolders:function(){return this.lines.map((function(t){return{holders:t.holders,validate:t.drawMethod}}))},dialogueLength:function(){return f.e[this.stage-1].dialogs.length},tutorialTiles:function(){return f.f[this.stage-1]},gameReseted:function(){return this.$store.state.gameReseted}},watch:{lines:{handler:function(){var t=this.lineHolders.map((function(t){return t.holders.reduce((function(e,n){return e+Object(d.p)(m(m({value:n.tiles},t.validate),{},{maxItems:3}))}),0)}));console.log(t),this.totalRight=t.reduce((function(t,e){return t+e}))},deep:!0},totalRight:function(t){this.stageCoins=t-6},gameReseted:function(t){t&&this.resetStage()}},created:function(){var t=this;this.showDialogue=this.$store.state.stage.showDialogue;var e=this.$store.state.stage;console.log(e),e.savedlines!==this.stage-1?(this.drawLines(),setTimeout((function(){t.saveLines(),t.saveStage()}),1500)):this.lines=Object(d.b)(this.$store.state.stage.lines)},methods:{drawLines:function(){var t=this;this.lines=Object(d.b)(c.c.stages).filter((function(t){return!!t.holders}));var e=Object(d.g)(this.holdersIndex,3),n=this.firstDraw(3);this.lines.forEach((function(o,l){o.holders.forEach((function(c,f){if(e.includes(c.id)){var h=n.pop(),v=Object(d.f)(t.pieceValues,o.drawMethod,h,3,!0),j=[h].concat(Object(r.a)(v)).map((function(t,i){return m(m({},t),{},{index:"".concat(l+1).concat(f+1).concat(i)})})),O=o.drawMethod.sorterAttribute,x=Object(d.d)(O);c.tiles=Object(d.n)(j,O,x)}}))}));var l=this.lines.map((function(t,e){return t.holders.map((function(t,n){return{tiles:t.tiles,position:{lineIndex:e,holderIndex:n}}}))})).flat().filter((function(t){return!!t.tiles.length})).map((function(s){return{tiles:[s.tiles[0],s.tiles[3]],position:s.position}})),f=[1,2,7,8],h=Object(d.m)(l.map((function(p,t){return{tiles:p.tiles.filter((function(t){return f.includes(t.number)})),position:p.position}})).filter((function(p){return!!p.tiles.length}))),v=Object(d.j)(0,h.length);if(Object(d.g)([41,42,43],v).forEach((function(e){var n=t.lines[3].holders.find((function(t){return t.id===e})),c=h.pop();l=l.filter((function(p){return p.position!==c.position}));var f=Object(d.i)(c.tiles),v=Object(o.a)(f,1)[0],j=Object(d.f)(t.pieceValues,t.lines[3].drawMethod,v,2,!0),O=Object(r.a)(j).map((function(t,i){return m(m({},t),{},{index:"".concat(e).concat(i)})})),x=t.lines[3].drawMethod.sorterAttribute,w=Object(d.d)(x);n.tiles=Object(d.n)(O,x,w)})),l&&l.length){var j=this.holdersIndex.filter((function(t){return!e.includes(t)}));Object(d.g)(j,l.length).forEach((function(e){var line=Math.floor(e/10),n=e%10,c=t.lines[line-1].holders[n-1],f=l.pop(),h=Object(d.i)(f.tiles),v=Object(o.a)(h,1)[0],j=Object(d.f)(t.pieceValues,t.lines[line-1].drawMethod,v,2,!0),O=Object(r.a)(j).map((function(t,i){return m(m({},t),{},{index:"".concat(e).concat(i)})})),x=t.lines[line-1].drawMethod.sorterAttribute,w=Object(d.d)(x);c.tiles=Object(d.n)(O,x,w)}))}var O=this.firstDraw(3+v),x=this.firstDraw(3-v,[3,4,5,6]);this.lines.forEach((function(e,n){e.holders.forEach((function(o,l){if(!o.tiles.length){var c=3===n?x.pop():O.pop(),f=!1;if(c&&(f=Object(d.f)(t.pieceValues,e.drawMethod,c,2,!0)),f&&f.length){var h=[].concat(Object(r.a)(f),[c]).map((function(t,i){return m(m({},t),{},{index:"".concat(n+1).concat(l+1).concat(i)})})),v=e.drawMethod.sorterAttribute,j=Object(d.d)(v);o.tiles=Object(d.n)(h,v,j)}}}))}))},saveCoins:function(t){this.totalCoins=t,this.$store.commit("stage/saveCoins",this.totalCoins);var e=this.stage<5?".line-".concat(1):".lines";Object(animate.a)({totalNumber:3,parentElement:e,starClass:"estrelinha-do-brilho",starStyle:{position:"absolute",top:"10px",right:"10px"},callback:this.commitStage}),Object(animate.a)({totalNumber:3,parentElement:e,starClass:"estrelinha-do-brilho",starStyle:{position:"absolute",bottom:"10px",left:"10px"},direction:"left",callback:function(){return!1}})},updateTiles:function(t){var e=this,n=t.holder,o=t.tiles,r=t.stage;(void 0===r?4:r)<5&&(this.lines.map((function(t){return t.holders})).flat().find((function(t){return t.id===n.id})).tiles=Object(d.b)(o),setTimeout((function(){return e.saveLines()}),400))},commitStage:function(){this.$store.commit("stage/completeStage")},hideDialogue:function(){this.showDialogue=!1,this.$store.commit("stage/hideDialogue")},saveLines:function(){var t=Object(d.b)(this.lines);this.$store.commit("stage/saveLines",t)},popComment:function(){var t=this;document.querySelector(".leo-message")||Object(d.a)(40,100)&&(this.messagePopped=!0,this.popTimeout=setTimeout((function(){Object(animate.r)(".leo-message",(function(){return t.messagePopped=!1}))}),4e3))},firstDraw:function(t){for(var filter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=this.pieceValues.numbers.filter((function(p){return!filter.includes(p)})),n=Object(d.g)(this.pieceValues.colors,t),o=Object(d.g)(e,t),r=[],i=0;i<t;i++)r.push({color:n[i],number:o[i]});return r},saveStage:function(){var t=Object(d.b)(this.lines);this.$store.commit("saves/saveStageTile",t)},resetStage:function(){var t=this,e=this.$store.state.saves.stageTiles;this.lines.forEach((function(t,n){t.holders.forEach((function(t,o){t.length=0,t=e[n][o]}))})),console.log(this.lines),this.lines=Object(d.b)(e),setTimeout((function(){return t.$store.commit("stageReseted")}),600)}}},j=(n(255),n(3)),component=Object(j.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fill"},[n("transition",{attrs:{name:"fade"}},[t.gameReseted?n("div",{staticClass:"white-flashing"}):t._e()]),t._v(" "),n("div",{staticClass:"coins"},[n("coins",{attrs:{stage:t.currentLine,"initial-coins":t.totalCoins,"stage-coins":t.stageCoins,"stage-reseted":t.gameReseted},on:{saveCoins:t.saveCoins,popComment:t.popComment}})],1),t._v(" "),n("div",{staticClass:"estante-fase-6"},[n("div",{staticClass:"lines"},t._l(t.lines,(function(line,e){return n("div",{key:line.id,staticClass:"line",class:"line-"+line.id},[n("div",{staticClass:"line__tile-holder"},t._l(line.holders,(function(o,r){return n("tiles-receiver",{key:o.id,staticClass:"drop-tiles first-drop",attrs:{"list-tiles":o.tiles,"total-tiles":o.tiles.length,validation:line.drawMethod,container:o,"max-items":3,"stage-reseted":t.gameReseted,stage:t.stage,position:{index:e,holderIndex:r},group:"tiles"},on:{updateTiles:t.updateTiles}})})),1)])})),0)]),t._v(" "),t.showDialogue?n("dialogue",t._b({on:{close:t.hideDialogue},scopedSlots:t._u([{key:"stageContent",fn:function(e){return[2===e.index?n("div",{staticClass:"tiles-example"},[n("div",{staticClass:"exemplo-fase-6-com-retangulo"})]):t._e()]}}],null,!1,3633377697)},"dialogue",t.stageDialogues[t.stage-1],!1)):t._e()],1)}),[],!1,null,"d34f6294",null);e.default=component.exports}}]);